require 'test_helper'

class FinancialTransactionTest < ActiveSupport::TestCase
  # Replace this with your real tests.
#  test "create financial transaction from donation" do
#    donation = donations(:donor_donation)
#    dli = donation.donation_line_items.find(:first)
#    start_balance = donation.donation_line_items[0].account.balance
#    credit_amount = donation.donation_line_items[0].amount
#
#    ft = FinancialTransaction.create_complete_transaction(donation)
#    assert !ft.nil?
#
#    ft = FinancialTransaction.find(ft.id)
#    ft.post_to_accounts
#
#    donation = Pledge.find(donation.id)
#    ending_balance = donation.donation_line_items[0].account.balance
#    assert (start_balance + credit_amount) == ending_balance
#  end
end
